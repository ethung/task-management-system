# <!-- Powered by BMADâ„¢ Core -->

# Story 2.1: Career Wins & Monthly Digest System

## Status
Draft

## Story
**As a** working professional using the productivity application,
**I want** an intelligent Career Wins & Monthly Digest System that automatically captures accomplishments, generates AI-powered monthly summaries, and formats content for performance reviews, resumes, and LinkedIn,
**so that** I can effortlessly track my professional growth, never forget achievements, maintain up-to-date career documentation, and leverage AI insights for performance reviews and career advancement opportunities.

## Acceptance Criteria
1. Users can quickly capture career wins and accomplishments in real-time with categorization (project completion, skill development, recognition, leadership, innovation)
2. AI agent automatically analyzes completed tasks, reflections, and captured wins to generate comprehensive monthly digest summaries
3. Monthly digests include key accomplishments, productivity insights, skill development tracking, and achievement timeline visualization
4. Performance review content generator creates structured summaries from monthly digests and wins with customizable formats
5. Resume bullet point generator formats achievements using action-oriented language with quantifiable impact metrics
6. LinkedIn content formatter creates engaging posts, profile updates, and professional story highlights from captured wins
7. Achievement timeline provides visual progression of career milestones with project correlation and skill development tracking
8. AI-powered insight generation identifies patterns in accomplishments, suggests growth areas, and recommends career development opportunities
9. Export functionality supports multiple formats (PDF, Word, Markdown) for performance reviews, resume updates, and portfolio documentation
10. Integration with existing weekly planning and reflection systems to automatically surface potential wins from completed goals
11. Privacy controls ensure sensitive accomplishment data remains secure with optional anonymization for sharing
12. Mobile-responsive win capture interface allows real-time achievement logging across all devices

## Tasks / Subtasks

- [ ] **Task 1: Career Wins Data Model and Infrastructure** (AC: 1, 7, 11)
  - [ ] Extend Prisma schema with CareerWins model including id, userId, title, description, category, impact, date, projectId, tags, visibility
  - [ ] Create database migration for career wins tables with proper indexes for performance
  - [ ] Implement CareerWins service in `lib/db/career-wins.ts` with CRUD operations and filtering capabilities
  - [ ] Add privacy controls and data encryption for sensitive accomplishment information
  - [ ] Create achievement timeline data aggregation queries with date-based grouping and project correlation
  - [ ] Add validation schemas using Zod for career wins data integrity and type safety

- [ ] **Task 2: Win Capture User Interface Components** (AC: 1, 10, 12)
  - [ ] Create WinCaptureForm component in `components/career-wins/` with category selection and impact assessment
  - [ ] Implement QuickWinCapture floating action button for real-time achievement logging
  - [ ] Build WinsList component with filtering by category, date, and project with infinite scroll
  - [ ] Create WinDetailsModal for viewing and editing captured accomplishments with rich text editing
  - [ ] Add integration hooks to weekly planning components to suggest potential wins from completed goals
  - [ ] Implement mobile-responsive design ensuring optimal capture experience across all device sizes
  - [ ] Create win categorization interface with predefined and custom category management

- [ ] **Task 3: AI-Powered Monthly Digest Generation** (AC: 2, 3, 8)
  - [ ] Implement MonthlyDigestGenerator service utilizing AI agent foundation from Story 1.5
  - [ ] Create data aggregation engine that analyzes completed tasks, weekly reflections, and captured wins
  - [ ] Build AI prompt system for generating comprehensive monthly summaries with configurable templates
  - [ ] Implement productivity insights engine that identifies patterns, trends, and improvement areas
  - [ ] Create skill development tracking system that correlates wins with professional growth areas
  - [ ] Add achievement timeline visualization with milestone highlighting and project correlation
  - [ ] Build digest scheduling system for automated monthly generation with user preference controls

- [ ] **Task 4: Performance Review Content Generator** (AC: 4, 8, 9)
  - [ ] Create PerformanceReviewGenerator component leveraging AI agent infrastructure from Story 1.5
  - [ ] Implement structured content templates for different performance review formats (self-review, 360, annual)
  - [ ] Build accomplishment summarization engine that groups wins by impact and relevance
  - [ ] Create quantifiable impact metrics extraction and formatting system
  - [ ] Implement customizable review sections with goal alignment and future planning components
  - [ ] Add export functionality supporting PDF, Word, and Markdown formats with professional styling
  - [ ] Create collaboration features for sharing draft reviews with mentors or managers

- [ ] **Task 5: Resume and LinkedIn Content Formatting** (AC: 5, 6, 9)
  - [ ] Implement ResumeBulletGenerator using AI agent for action-oriented language optimization
  - [ ] Create LinkedInContentFormatter for engaging social media posts and profile updates
  - [ ] Build quantifiable impact metrics system that transforms wins into measurable achievements
  - [ ] Implement industry-specific formatting templates for different professional contexts
  - [ ] Create content optimization engine that suggests improvements based on job market trends
  - [ ] Add export functionality with multiple formats and direct LinkedIn integration capabilities
  - [ ] Build professional story highlighting system for narrative-based career documentation

- [ ] **Task 6: Achievement Timeline and Visualization** (AC: 7, 3, 8)
  - [ ] Create AchievementTimeline component with interactive date-based visualization
  - [ ] Implement milestone tracking system with career progression indicators and skill development markers
  - [ ] Build project correlation engine that links wins to specific projects and initiatives
  - [ ] Create skills development visualization showing growth trajectories and competency evolution
  - [ ] Implement achievement categorization with visual grouping and impact assessment display
  - [ ] Add interactive filtering and drill-down capabilities for detailed accomplishment analysis
  - [ ] Create shareable timeline exports for portfolio and career development discussions

- [ ] **Task 7: AI Integration and Insight Generation** (AC: 2, 8, 3)
  - [ ] Extend AI agent system from Story 1.5 with career-focused analysis capabilities
  - [ ] Implement accomplishment pattern recognition for identifying recurring success themes
  - [ ] Create growth opportunity identification engine based on achievement analysis and market trends
  - [ ] Build career development recommendation system with personalized skill development suggestions
  - [ ] Implement competitive analysis features that benchmark accomplishments against industry standards
  - [ ] Add AI-powered goal setting assistance based on historical achievement patterns
  - [ ] Create intelligent content suggestions for upcoming performance reviews and career discussions

- [ ] **Task 8: API Endpoints and Data Management** (AC: 11, 9, 1)
  - [ ] Create REST API endpoints for career wins CRUD operations in `app/api/career-wins/`
  - [ ] Implement monthly digest generation endpoints with AI processing and caching
  - [ ] Build performance review content API with template management and export functionality
  - [ ] Create LinkedIn and resume formatting endpoints with privacy controls and data sanitization
  - [ ] Implement achievement timeline API with efficient data aggregation and filtering
  - [ ] Add privacy control endpoints for managing data visibility and sharing permissions
  - [ ] Create bulk export API for comprehensive career data backup and portability

## Dev Notes

### Previous Story Insights
- AI Agent Integration System from Story 1.5 provides the foundational AI infrastructure needed for monthly digest generation, career coaching, and content formatting
- Weekly Planning & Reflection System from Story 1.4 creates the data foundation that career wins will build upon, with weekly reflections serving as a key input source
- Task Management System from Story 1.3 provides the completed tasks that will be analyzed for potential career wins and accomplishments
- Version control and temporal access patterns from Story 1.4 ensure career wins data maintains full audit trails and historical versioning

### Data Models
Based on existing database schema patterns from `docs/database-setup.md` and established Prisma models:

**CareerWins Model**
- `id` - Unique identifier (cuid) following established pattern
- `userId` - Owner reference linking to existing Users model
- `title` - Brief accomplishment title (required, max 200 chars)
- `description` - Detailed accomplishment description with Markdown support
- `category` - Enum: PROJECT_COMPLETION | SKILL_DEVELOPMENT | RECOGNITION | LEADERSHIP | INNOVATION | CLIENT_SUCCESS
- `impact` - Enum: PERSONAL | TEAM | DEPARTMENT | COMPANY | INDUSTRY
- `date` - Date of accomplishment (Date type)
- `projectId` - Optional reference to existing Projects model
- `tags` - JSON array of tag strings for flexible categorization
- `visibility` - Enum: PRIVATE | TEAM | PUBLIC for privacy control
- `quantifiableMetrics` - JSON object storing measurable outcomes (numbers, percentages, etc.)
- `createdAt` / `updatedAt` - Standard timestamps
[Source: docs/database-setup.md#database-schema and existing Prisma models]

**MonthlyDigests Model**
- `id` - Unique identifier (cuid)
- `userId` - Owner reference
- `month` - Integer (1-12)
- `year` - Integer year
- `digestContent` - JSON object containing structured AI-generated summary
- `accomplishmentsCount` - Integer count of wins for the month
- `skillDevelopmentAreas` - JSON array of identified skill growth areas
- `productivityInsights` - JSON object with AI-generated insights
- `status` - Enum: GENERATING | READY | ARCHIVED
- `createdAt` / `updatedAt` - Timestamps
[Source: Extended from existing model patterns]

### API Specifications
Following established REST API patterns from `app/api/` structure:

**Career Wins Endpoints**
- `GET /api/career-wins` - List wins with filtering (date, category, project)
- `POST /api/career-wins` - Create new win with validation
- `GET /api/career-wins/[id]` - Get specific win details
- `PUT /api/career-wins/[id]` - Update win with privacy controls
- `DELETE /api/career-wins/[id]` - Soft delete with audit trail
[Source: Following patterns from existing `app/api/tasks/` and `app/api/auth/` structure]

**Monthly Digest Endpoints**
- `GET /api/monthly-digests` - List digests by date range
- `POST /api/monthly-digests/generate` - Trigger AI digest generation
- `GET /api/monthly-digests/[year]/[month]` - Get specific month digest
- `PUT /api/monthly-digests/[id]` - Update digest preferences
[Source: Following temporal patterns from `app/api/temporal/weekly-plans/[year]/[week]/`]

### Component Specifications
Based on established component architecture patterns in `components/`:

**Career Wins Components** (`components/career-wins/`)
- `WinCaptureForm.tsx` - Form component using react-hook-form with Zod validation (following TaskForm.tsx pattern)
- `QuickWinCapture.tsx` - Floating action button with modal (following UI component patterns)
- `WinsList.tsx` - List component with filtering and pagination (following established data display patterns)
- `WinDetailsModal.tsx` - Modal component using Radix UI Dialog (following existing modal patterns)
- `CategorySelector.tsx` - Multi-select category component (extending tag-input.tsx pattern)
[Source: Following component organization from `components/tasks/`, `components/weekly-planning/`]

**Monthly Digest Components** (`components/monthly-digest/`)
- `DigestGenerator.tsx` - AI-powered digest generation interface
- `DigestViewer.tsx` - Structured display of monthly summaries
- `InsightsPanel.tsx` - Visualization of productivity insights and patterns
- `AchievementTimeline.tsx` - Interactive timeline with milestone visualization
[Source: Extending patterns from `components/weekly-planning/WeekProgressDashboard.tsx`]

### File Locations
Following established project structure from existing codebase:

**Database Layer**
- `lib/db/career-wins.ts` - CRUD operations and queries (following `lib/db/tasks.ts` pattern)
- `lib/db/monthly-digests.ts` - Digest generation and retrieval operations
- `lib/validations/career-wins.ts` - Zod schemas (following `lib/validations/task.ts` pattern)

**API Layer**
- `app/api/career-wins/` - RESTful endpoints (following `app/api/tasks/` structure)
- `app/api/monthly-digests/` - Digest generation and management endpoints
- `app/api/export/` - Content generation and export endpoints

**UI Components**
- `components/career-wins/` - Win capture and management components
- `components/monthly-digest/` - AI-generated content display and interaction
- `components/export/` - Content formatting and export interfaces

### Testing Requirements
Following established testing patterns from `__tests__/` directory structure:

**Unit Tests**
- `__tests__/lib/career-wins/career-wins-validation.test.ts` - Zod schema validation tests
- `__tests__/components/career-wins/WinCaptureForm.test.tsx` - Component interaction tests
- `__tests__/lib/monthly-digest/digest-generation.test.ts` - AI integration tests

**Integration Tests**
- API endpoint testing following patterns from existing `__tests__/api/` structure
- Database operation testing with test data fixtures
- AI agent integration testing with mock responses

### Technical Constraints
Based on existing package.json and architecture:

**Dependencies**
- Leverage existing AI infrastructure from Story 1.5 (no additional AI libraries needed)
- Use established Prisma ORM for database operations
- Utilize existing Radix UI components for consistent design system
- Extend react-hook-form and Zod validation patterns for form handling
[Source: package.json#dependencies]

**Performance Considerations**
- Implement efficient data aggregation for monthly digest generation
- Use database indexes for career wins filtering and timeline queries
- Cache AI-generated content to reduce processing costs
- Implement pagination for large accomplishment datasets

**Security Requirements**
- Implement privacy controls for sensitive accomplishment data
- Use existing JWT authentication system from Story 1.2
- Add data encryption for confidential career information
- Ensure GDPR compliance for career data export and deletion

## Testing

### Testing Standards
Following established testing patterns from `__tests__/` directory:

**Test File Locations**
- Unit tests: `__tests__/lib/career-wins/` and `__tests__/components/career-wins/`
- Integration tests: `__tests__/api/career-wins/`
- Component tests: `__tests__/components/monthly-digest/`

**Testing Frameworks**
- Jest for unit testing (already configured in package.json)
- React Testing Library for component testing (@testing-library/react)
- Supertest for API endpoint testing (following existing API test patterns)
- Mock AI responses for digest generation testing

**Specific Testing Requirements**
- AI integration testing with mock responses to ensure consistent behavior
- Privacy control testing to verify data visibility and access restrictions
- Export functionality testing across multiple formats (PDF, Word, Markdown)
- Mobile responsiveness testing for win capture interface
- Performance testing for large datasets and timeline visualization

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|---------|
| 2025-09-23 | 1.0 | Initial story creation for Epic 2 - Advanced Features | SM Agent |

## Dev Agent Record

*This section will be populated by the development agent during implementation*

### Agent Model Used
*To be populated during development*

### Debug Log References
*To be populated during development*

### Completion Notes List
*To be populated during development*

### File List
*To be populated during development*

## QA Results

*Results from QA Agent review will be populated here after story implementation*